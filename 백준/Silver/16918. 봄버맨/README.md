# [Silver I] 봄버맨 - 16918 

[문제 링크](https://www.acmicpc.net/problem/16918) 

### 성능 요약

메모리: 15456 KB, 시간: 252 ms

### 분류

그래프 이론(graphs), 그래프 탐색(graph_traversal), 구현(implementation), 시뮬레이션(simulation)

### 문제 설명

<p><a href="https://en.wikipedia.org/wiki/Bomberman">봄버맨</a>은 크기가 R×C인 직사각형 격자판 위에서 살고 있다. 격자의 각 칸은 비어있거나 폭탄이 들어있다.</p>

<p>폭탄이 있는 칸은 3초가 지난 후에 폭발하고, 폭탄이 폭발한 이후에는 폭탄이 있던 칸이 파괴되어 빈 칸이 되며, 인접한 네 칸도 함께 파괴된다. 즉, 폭탄이 있던 칸이 (i, j)인 경우에 (i+1, j), (i-1, j), (i, j+1), (i, j-1)도 함께 파괴된다. 만약, 폭탄이 폭발했을 때, 인접한 칸에 폭탄이 있는 경우에는 인접한 폭탄은 폭발 없이 파괴된다. 따라서, 연쇄 반응은 없다.</p>

<p>봄버맨은 폭탄에 면역력을 가지고 있어서, 격자판의 모든 칸을 자유롭게 이동할 수 있다. 봄버맨은 다음과 같이 행동한다.</p>

<ul>
	<li>가장 처음에 봄버맨은 일부 칸에 폭탄을 설치해 놓는다. 모든 폭탄이 설치된 시간은 같다.</li>
	<li>다음 1초 동안 봄버맨은 아무것도 하지 않는다.</li>
	<li>다음 1초 동안 폭탄이 설치되어 있지 않은 모든 칸에 폭탄을 설치한다. 즉, 모든 칸은 폭탄을 가지고 있게 된다. 폭탄은 모두 동시에 설치했다고 가정한다.</li>
	<li>1초가 지난 후에 3초 전에 설치된 폭탄이 모두 폭발한다.</li>
	<li>3과 4를 반복한다.</li>
</ul>

<p>폭탄을 설치해놓은 초기 상태가 주어졌을 때, N초가 흐른 후의 격자판 상태를 구하려고 한다.</p>

<p>예를 들어, 초기 상태가 아래와 같은 경우를 보자.</p>

<pre>...
.O.
...</pre>

<p>1초가 지난 후에는 아무 일도 벌어지지 않기 때문에, 위와 같다고 볼 수 있다. 1초가 더 흐른 후에 격자판의 상태는 아래와 같아진다.</p>

<pre>OOO
OOO
OOO</pre>

<p>1초가 지난 후엔 가운데에 있는 폭탄이 폭발해 가운데 칸과 인접한 네 칸이 빈 칸이 된다.</p>

<pre>O.O
...
O.O
</pre>

### 입력 

 <p>첫째 줄에 R, C, N (1 ≤ R, C, N ≤ 200)이 주어진다. 둘째 줄부터 R개의 줄에 격자판의 초기 상태가 주어진다. 빈 칸은 '<code>.</code>'로, 폭탄은 '<code>O</code>'로 주어진다.</p>

### 출력 

 <p>총 R개의 줄에 N초가 지난 후의 격자판 상태를 출력한다.</p>

### 풀이
- N의 입력값이 크지 않아서 기존 map 외에 해당 칸의 시간을 체크해 줄 time 2차원 배열을 하나 더 생성해서 시간을 따로 체크해줌.
- N이 짝수이면 맵에서 비어있는 곳에 폭탄을 심고 폭탄이 터질 시간을 현재시간(bombtime)+3으로 갱신해준다(3초 뒤에 터지기 때문). 처음 1초간 봄버맨이 아무것도 하지 않으므로 bombtime은 2부터 카운팅한다.
- N이 홀수이면 타임 맵을 순회하면서 터질 폭탄이 있다면 4방향 칸과 함께 빈칸으로 바꿔주고, 시간을 0으로 갱신한다. 이 때 인접한 칸에 폭탄이 있고, 이 폭탄이 현재 시간에서 터져야 하는 폭탄이라면 터트리지 않고 넘어가야 한다(미리 해당 폭탄이 터지면 그 주위 4방향은 빈칸이 될 수 없기 때문. 폭탄은 한 번에 터진다).
- 폭탄이 한 번에 터지는 것을 간과해서 디버깅하는데 시간이 오래 걸렸다. 문제를 읽고 조건을 정리해두는 작업을 좀 더 꼼꼼하게 해야 할듯.
